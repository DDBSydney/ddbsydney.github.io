{% assign tile = include.data[0] %}
{% assign fgCol = "" %}
{% assign bgCol = "" %}

{% if tile.backgroundColor.value %}
  {% capture bgCol %}

    style="
    {% if tile.backgroundColor.value %}
      background-color: {{ tile.backgroundColor.value }};
    {% endif %}
    "

  {% endcapture %}
{% endif %}

{% if tile.foregroundColor.value or page_data.foregroundColor.value %}
  {% capture fgCol %}

    style="
    {% if tile.foregroundColor.value %}
      color: {{ tile.foregroundColor.value }};
    {% elsif page_data.foregroundColor.value %}
      color: {{ page_data.foregroundColor.value }};
    {% endif %}
    "

  {% endcapture %}
{% endif %}

{% assign alignTop = false %}
{% if tile.alignImage.value and tile.alignImage.value == "top" %}
  {% assign alignTop = true %}
{% endif %}

{% capture imageHtml %}

  {% if tile.imageDesktop.value.main.url or tile.imageMobile.value.main.url %}
  <div class="quote-tile__image{{ tile.alignImage.value | prepend: ' ' }}">

    {% if tile.imageDesktop.value.main.url %}
    <img class="quote-tile__image--desktop" src="{{ tile.imageDesktop.value.main.url }}" alt="">
    {% endif %}

    {% if tile.imageMobile.value.main.url %}
    <img class="quote-tile__image--mobile" src="{{ tile.imageMobile.value.main.url }}" alt="">
    {% endif %}

  </div>
  {% endif %}

{% endcapture %}

<!-- quote tile -->
<div class="quote-tile{{ page.page_data.uid | prepend: ' ' }}"{{ bgCol | normalize_whitespace | prepend: ' ' }}>

  <div class="quote-tile__content">

    {% if alignTop %}
      {{ imageHtml }}
    {% endif %}

    {% if tile.quote.value or tile.author.value %}
      <div class="quote-tile__text">

        {% if tile.quote.value %}
          <h3 class="quote-tile__quote"{{ fgCol | normalize_whitespace }}>
            <span class="quote-tile__quotes">&ldquo;</span>{{ tile.quote.value }}<span class="quote-tile__quotes">&rdquo;</span>
          </h3>
        {% endif %}

        {% if tile.author.value %}
          <h4 class="quote-tile__author"{{ fgCol | normalize_whitespace }}>
            &mdash; {{ tile.author.value }}
          </h4>
        {% endif %}

      </div>
    {% endif %}

    {% if tile.imageDesktop.value.main.url or tile.imageMobile.value.main.url %}
      <div class="quote-tile__image">

        {% if tile.imageDesktop.value.main.url %}
        <img class="quote-tile__image--desktop" src="{{ tile.imageDesktop.value.main.url }}" alt="">
        {% endif %}

        {% if tile.imageMobile.value.main.url %}
        <img class="quote-tile__image--mobile" src="{{ tile.imageMobile.value.main.url }}" alt="">
        {% endif %}

      </div>
    {% endif %}

    {% if alignTop != true %}
      {{ imageHtml }}
    {% endif %}

  </div>

</div><!-- quote tile end -->
