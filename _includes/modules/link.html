{% assign link = include.link %}
{% assign label = include.label %}

{% if link.value %}

  {% if link.type == "Link.web" %}
    {% assign isExternalLink = true %}
  {% else %}
    {% assign isExternalLink = false %}
  {% endif %}

  {% assign isMedium = false %}

  {% capture linkUrl %}
    {% case link.type %}

      {% when "Link.web" %}
        {{ link.value.url }}

      {% when "Link.document" %}
        {% if link.value.document.type == "custom-pages" %}
          {{base}}/sydney/pages/{{link.value.document.uid}}
        {% elsif link.value.document.type == "case-studies" %}
          {{base}}/sydney/work/{{link.value.document.uid}}
        {% elsif link.value.document.type == "career-listings" %}
          {{base}}/sydney/careers/{{link.value.document.uid}}
        {% elsif link.value.document.type == "about-pages" %}
          {{base}}/sydney/about/{{link.value.document.uid}}
        {% elsif link.value.document.uid == "latest" %}
          {{base}}/sydney/
        {% else %}
          {{base}}/sydney/{{link.value.document.uid}}
        {% endif %}

    {% endcase %}
  {% endcapture %}

  {% capture linkTarget %}
    {% if isExternalLink %}
      target="_blank"
    {% endif %}
  {% endcapture %}

  {% capture linkLabel %}
    {% if label %}
      title="{{ label }}"
    {% endif %}
  {% endcapture %}

  <!-- link -->
  <a class="link" href="{{ linkUrl | normalize_whitespace }}" {{ linkTarget | normalize_whitespace }} {{ linkLabel | normalize_whitespace }}>
    <span> {{ label | default: "View" }} </span>
  </a><!-- link end -->

{% endif %}
